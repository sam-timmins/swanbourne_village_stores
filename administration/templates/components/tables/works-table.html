{% load mathfilters %}

<div class="col-12 col-md-6 col-lg-7 border-purple p-3 p-md-5 my-3">
    <h3 class="text-purple text-md text-center text-header d-flex align-items-center justify-content-center">Works list<span
        class="badge background-black-transp text-white ms-3 my-auto text-sm">{{ count_works }}</span></h3>
    <hr class="text-purple mx-auto my-5">
    <div class="p-3 table-responsive">
        <table class="w-100 text-dark-green table align-middle">
            <thead class="background-purple text-white fst-italic">
                <tr>
                    <th>Name</th>
                    <th>Price</th>
                    <th>Discount</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody class="text-black">
                {% for works in the_works %}
                <tr>
                    <td>
                        <p class="text-purple">
                            {{ works.name }}
                        </p>
                    </td>
                    <td>
                        <p class="text-purple">
                            {{ currency }}{{ works.price }}
                        </p>
                    </td>
                    <td>
                        <p class="text-purple">
                            {{ currency }}{{ works.dish.price | addition:works.wine.price | sub:works.price |floatformat:2}}
                        </p>
                    </td>
                    <td>
                        <a href="{% url 'edit_works' works.id %}"
                            class="d-block text-purple text-decoration-none text-xs d-block">
                            <i class="fa-solid fa-pen-fancy ms-3"></i>
                        </a>
                    </td>
                    <td>
                        <a href="#delete-works{{works.id}}"
                            class="d-block text-purple text-decoration-none text-xs d-block"
                            data-bs-toggle="modal">
                            <i class="fa-solid fa-trash-can ms-3"></i>

                            <!-- Modal for delete -->
                            {% include 'components/modals/delete-works-modal.html' %}
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>